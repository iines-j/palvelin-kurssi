# h2 Soitto kotiin
Sisällysluettelo:

- x)[ Lue ja tiivistä](#x-lue-ja-tiivistä)
- a)[ Asenna kaksi virtuaalikonetta samaan verkkoon](#a-asenna-kaksi-virtuaalikonetta-samaan-verkkoon)
- b)[ Asenna Saltin herra-orja arkkitehtuuri toimimaan verkon yli](#b-asenna-saltin-herra-orja-arkkitehtuuri-toimimaan-verkon-yli)
- c)[ Aja shell-komento orjalla Saltin master-slave yhteyden yli](#c-aja-shell-komento-orjalla-saltin-master-slave-yhteyden-yli)
- d)[ Aja useita idempotentteja (state.single) komentoja master-slave yhteyden yli](#d-aja-useita-idempotentteja-statesingle-komentoja-master-slave-yhteyden-yli)
- e)[ Kerää teknistä tietoa orjista verkon yli (grains.item)](#e-kerää-teknistä-tietoa-orjista-verkon-yli-grainsitem)
- f)[ Hello IaC](#f-hello-iac)
- [Lähteet](#lähteet)

Tehtävänanto: [Infra as Code - Palvelinten hallinta 2024.](https://terokarvinen.com/2024/configuration-management-2024-spring/)

## x) Lue ja tiivistä
> (Tässä x-alakohdassa ei tarvitse tehdä testejä tietokoneella, vain lukeminen tai kuunteleminen ja tiivistelmä riittää. Tiivistämiseen riittää muutama ranskalainen viiva. Kannattaa lisätä mukaan myös jokin oma havainto, idea tai kysymys.)

### Karvinen 2021: [Two Machine Virtual Network With Debian 11 Bullseye and Vagrant](https://terokarvinen.com/2021/two-machine-virtual-network-with-debian-11-bullseye-and-vagrant/)
- Ohjeet kahden virtuaalikoneen verkon luomiseen Vagrantilla
  - Lataa Vagrant ja VirtualBox
  - Luo uusi kansio projektille, ja tee sinne Vagrantfile:

<img src='https://github.com/iines-j/palvelin-kurssi/assets/148907657/4850ac24-32a9-495b-9a57-91dcb450068d' width=600>

- `vagrant ssh t001` - kirjautuu SSH:lla virtuaalikoneeseen
- `vagrant destroy` - tuhoaa molemmilla koneilla olevat tiedostot
- `vagrant up` - luo uudet tyhjät koneet

### Karvinen 2018: [Salt Quickstart – Salt Stack Master and Slave on Ubuntu Linux](https://terokarvinen.com/2018/salt-quickstart-salt-stack-master-and-slave-on-ubuntu-linux/?fromSearch=salt%20quickstart%20salt%20stack%20master%20and%20slave%20on%20ubuntu%20linux)





### Karvinen 2014: [Hello Salt Infra-as-Code](https://terokarvinen.com/2024/hello-salt-infra-as-code/)





____
## a) Asenna kaksi virtuaalikonetta samaan verkkoon. 
> Osoita, että pystyt käyttämään kumpaakin konetta (esim 'vagrant ssh t001').
> Osoita, että koneet voivat pingata toisiaan. (Tämä tehtävä on helpointa tehdä Vagrantilla)






## b) Asenna Saltin herra-orja arkkitehtuuri toimimaan verkon yli.
> (Verkko voi olla virtuaalinen verkko paikallisten virtuaalikoneiden välillä, kuten muissakin alakohdissa)






## c) Aja shell-komento orjalla Saltin master-slave yhteyden yli.





## d) Aja useita idempotentteja (state.single) komentoja master-slave yhteyden yli.





## e) Kerää teknistä tietoa orjista verkon yli (grains.item)






## f) Hello IaC
> Tee infraa koodina kirjoittamalla /srv/salt/hello/init.sls.
> Aja tila jollekin orjalle.
> Tila voi esimerkiksi tehdä esimerkkitiedoston johonkin hakemistoon.
> Testaa toisella komennolla, että pyytämäsi muutos on todella tehty.







____
## Lähteet
- Tero Karvinen, 2024. Infra as Code - Palvelinten hallinta 2024. [Linkki.](https://terokarvinen.com/2024/configuration-management-2024-spring/) Luettu 4.4.2024.
- Tero Karvinen, 2021. Two Machine Virtual Network With Debian 11 Bullseye and Vagrant. [Linkki.](https://terokarvinen.com/2021/two-machine-virtual-network-with-debian-11-bullseye-and-vagrant/) Luettu 4.4.2024.
- Tero Karvinen, 2018. Salt Quickstart – Salt Stack Master and Slave on Ubuntu Linux. [Linkki.](https://terokarvinen.com/2018/salt-quickstart-salt-stack-master-and-slave-on-ubuntu-linux/?fromSearch=salt%20quickstart%20salt%20stack%20master%20and%20slave%20on%20ubuntu%20linux) Luettu 4.4.2024.
- Tero Karvinen, 2024. Hello Salt Infra-as-Code. [Linkki.](https://terokarvinen.com/2024/hello-salt-infra-as-code/) Luettu 4.4.2024.
