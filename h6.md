# h6 Benchmark
Sisällysluettelo:

- x)[ Lue ja tiivistä](#x-lue-ja-tiivistä)
- a)[ Paketti Windowsia ](#a-paketti-windowsia)
- b)[ Benchmark ](#b-benchmark)
- c)[ Testbench ](#c-testbench)
- d)[ Viisi ideaa ](#d-viisi-ideaa)
- [Lähteet](#lähteet)


Tehtävänanto: [Infra as Code - Palvelinten hallinta 2024.](https://terokarvinen.com/2024/configuration-management-2024-spring/)
___

## x) Lue ja tiivistä
> (Tässä x-alakohdassa ei tarvitse tehdä testejä tietokoneella, vain lukeminen tai kuunteleminen ja tiivistelmä riittää. Tiivistämiseen riittää muutama ranskalainen viiva. Kannattaa lisätä mukaan myös jokin oma havainto, idea tai kysymys.)

### [Windows Package Manager](https://docs.saltproject.io/en/latest/topics/windows/windows-package-manager.html)
- `salt-run winrepo.update_git_repos` / `salt-call --local winrepo.update_git_repos`
    - pakettien asentamiseen tarvittavien SLS-tiedostojen kloonaus [salt-winrepo-ng](https://github.com/saltstack/salt-winrepo-ng):stä.
- `pkg.refresh_db` tulee suorittaa kaikilla minioneilla, luo pakettitietokannan
- `salt * pkg.install 'firefox_x64'` - paketin asennus masterilla

[Usage](https://docs.saltproject.io/en/latest/topics/windows/windows-package-manager.html#usage)
- `pkg.list_pkgs` - listaa asennetut paketit
- `pkg.list_available` - listaa annetun paketin asennettavissa olevat versiot
- `pkg.install` - asentaa annetun paketin
- `pkg.remove` - poistaa annetun paketin

____
## a) Paketti Windowsia
> Asenna Windowsiin tai Macciin ohjelmia Saltin pkg.installed -funktiolla.
> (Jos teit tarvittavat asennukset jo tunnilla, voit kirjoittaa ympäristön asennuksen ulkomuistista, ja asentaa nyt vain jonkin uuden paketin. Muistinvaraisesti kirjoitetut muistiinpanot ovat paljon epämääräisempiä kuin työn aikana kirjoitetut, joten merkitse selvästi, mitkä osat on kirjoitettu ulkomuistista ja mitkä työskennellessä.)


- `salt-call --local winrepo.update_git_repos` - kloonaa salt-winrepo-ng:n 
- `salt-call --local pkg.refresh_db` - luo pakettitietokannan
- `salt-call --local pkg.remove audacity` - poistin ensin audacityn, jotta voisin asentaa sen uudelleen
- `salt-call --local pkg.install audacity` - asentaa audacityn
    - Audacityä poistaessa ja asentaessa tuli varoitus, mutta käskyt kuitenkin tekivät mitä piti
  
<img src='https://github.com/iines-j/palvelin-kurssi/assets/148907657/0deb964a-c5d9-4c7b-9b5f-f1efbea7e5f7' width=800>


## b) Benchmark
> Etsi 3-7 keskitetyn hallinnan projektia, esimerkiksi tämän kurssin "Oma moduli" lopputyötä.
> Työn tulee olla modernia keskitettyä hallintaa (idempotentti, infra koodina, yksi totuus).
> Esimerkiksi pelkkä shell script ei kelpaa.
> Työ saa käyttää mitä vain työkalua, esim Salt, Puppet, Ansible, Chef, Conftero, CFEngine.
>  Tässä alakohdassa ei tehdä mitään testejä, vaan arvioidaan töitä vain niiden kotisivujen perusteella. Etsimiseen voit käyttää hakukoneita.

Listaa kustakin:
- Tarkoitus
- Lisenssi
    - Lisenssin nimi
    - Missä lisenssi on
    - Mitä lisenssi tarkoittaa
- Tekijä ja vuosi
- Riippuvuudet
- Kiinnostavaa
- Avoimet kysymykset ja muut huomiot 







____

## c) Testbench
> Aja toisen tekemä tila.

    Valitse jokin edellisessä kohdassa tutkimasi moduli. Perustele valintasi.
    Tarkista koodi.
        Lataako koodi binäärejä? Lataako paketinhallinnan ulkopuolelta? Onko luotettavia ohjelmistolähteitä?
    Aja koodi. Käytä tarvittaessa virtuaaliympäristöä tai muuta eristystä.
    Testaa lopputulos.
    Ota ruutukaappauksia sopivassa laajuudessa.
    Kommentoi ja arvioi modulia.
    Modulin kaikkia bugeja ei tarvitse korjata, tarkoitus on ajaa modulia ja arvioida sitä.
    Jos jokin moduli vaikuttaa täysin toimimattomalta, kirjaa ylös yrityksesi ja kokeile toista modulia.



## d) Viisi ideaa
> Listaa viisi ideaa omalle modulille, kurssin lopputehtävälle.
> Modulilla tulee olla tarkoistus.
> Sen ei tarvitse silti ratkaista mitään oikeaa liiketoiminnan ongelmaa, vaan tarkoitus voi olla keksitty.
> Kunkin idean kuvaukseen riittää yksi virke. Ensi kerralla katsomme yhdessä aiheen valintaa ja sopivia vinkkejä.
> Tarvitsen pohjaksi omia ideoitasi, jotta voin antaa hyödyllisiä ja juuri sinulle sopivia neuvoja.


____
## Lähteet
- Tero Karvinen, 2024. Infra as Code - Palvelinten hallinta 2024. [Linkki.](https://terokarvinen.com/2024/configuration-management-2024-spring/) Luettu 4.4.2024.
